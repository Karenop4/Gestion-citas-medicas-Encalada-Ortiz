<div class="my-appointments-container">
  <h2>Mis Citas Agendadas</h2>
  <p>Si has registrado una cita y no aparece en esta sección, es porque ha sido cancelada.</p>
  <p>Escoja un horario válido y espere a su confirmación</p>

  <div *ngIf="isLoading" class="loading-indicator">Cargando citas...</div>
  <div *ngIf="errorMessage" class="message error">{{ errorMessage }}</div>

  <div *ngIf="!isLoading && myAppointments.length > 0" class="appointments-grid">
    <div *ngFor="let appointment of myAppointments" class="appointment-card">
      <div class="card-header">
        <h3>Cita con Dr. {{ appointment.doctorName }}</h3>
        <span
          class="appointment-status"
          [ngClass]="{
            'status-confirmed': appointment.confirmada,
            'status-pending': !appointment.confirmada
          }"
        >
          {{ appointment.confirmada ? 'Confirmada' : 'Pendiente' }}
        </span>
      </div>
      <div class="card-body">
        <p><strong>Especialidad:</strong> {{ appointment.specialty }}</p>
        <p><strong>Fecha:</strong> {{ appointment.date | date:'fullDate' }}</p>
        <p><strong>Hora:</strong> {{ appointment.hour }}</p>
      </div>
    </div>
  </div>

  <div *ngIf="!isLoading && myAppointments.length === 0 && !errorMessage" class="no-appointments">
    <p>Aún no tienes citas agendadas.</p>
    <p>Ve a la sección de Agendar una cita para registrar una.</p>
  </div>
</div>
